(this.webpackJsonpsocial_network_typescript=this.webpackJsonpsocial_network_typescript||[]).push([[4],{109:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var a=o(3),s=(o(1),o(110)),n=o.n(s),i=o(2),c=function(e){var t=e.id,o=e.type,s=e.placeholder,c=e.formikFieldProps,r=e.className,l=e.value,u=e.onChange,j=e.autoFocus,b=e.onBlur,_=e.onKeyUp;return Object(i.jsx)("input",Object(a.a)({id:t,className:"login"===r?n.a.loginInput:n.a.formInput&&"status"===r?n.a.statusInput:n.a.formInput,type:o,placeholder:s,required:!0,autoFocus:j,onChange:u,onBlur:b,onKeyUp:_,value:l},c))}},110:function(e,t,o){e.exports={formInput:"UniversalInput_formInput__3Hjo-",loginInput:"UniversalInput_loginInput__3G6O5",statusInput:"UniversalInput_statusInput__1B1FK"}},112:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var a=o(113),s=o.n(a),n=o(98),i=(o(1),o(2)),c=function(e){var t=e.onDeleteHandler;return Object(i.jsx)("div",{className:s.a.deleteBlock,onClick:t,children:Object(i.jsx)("div",{className:s.a.deleteButton,children:Object(i.jsx)(n.a,{})})})}},113:function(e,t,o){e.exports={deleteBlock:"DeleteButton_deleteBlock__jY_3E",deleteButton:"DeleteButton_deleteButton__3GOrh"}},114:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));o(1);var a=o(115),s=o.n(a),n=o(19),i=o(2),c=function(e){var t=e.confirm,o=e.title,a=e.confirmCallback,c=e.cancelCallback;return Object(i.jsxs)("div",{className:t?s.a.modalContainer:s.a.noModal,children:[Object(i.jsx)("div",{className:s.a.text,children:o}),Object(i.jsxs)("div",{className:s.a.confirmBlock,children:[Object(i.jsx)(n.a,{callback:a,title:"Ok"}),Object(i.jsx)(n.a,{callback:c,title:"Cancel",className:!0})]})]})}},115:function(e,t,o){e.exports={modalContainer:"ConfirmModal_modalContainer__3sxOp",text:"ConfirmModal_text__j5Yf6",confirmBlock:"ConfirmModal_confirmBlock__2aHcg",noModal:"ConfirmModal_noModal__2C5TK"}},116:function(e,t,o){e.exports={formBlock:"LoginForm_formBlock__KoHsB",descriptionBlock:"LoginForm_descriptionBlock__2PRGI",emailTitle:"LoginForm_emailTitle__2Cooh",passwordBlock:"LoginForm_passwordBlock__2ZHX3",passwordTitle:"LoginForm_passwordTitle__28ORM",forgotPasswordTitle:"LoginForm_forgotPasswordTitle__3RgEO",confirmBlock:"LoginForm_confirmBlock__w8IIC",button:"LoginForm_button__2idV7",registrationError:"LoginForm_registrationError__3DT1L"}},119:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var a=o(3),s=(o(1),o(6)),n=o(9),i=o(2),c=function(e){return{isAuth:e.auth.isAuth}},r=function(e){return Object(n.b)(c)((function(t){return t.isAuth?Object(i.jsx)(e,Object(a.a)({},t)):Object(i.jsx)(s.a,{to:"/login"})}))}},132:function(e,t,o){e.exports={profileWrapper:"Profile_profileWrapper__30YUZ",profileNavPanel:"Profile_profileNavPanel__jFxzE"}},133:function(e,t,o){e.exports={contentContainer:"ProfileInfo_contentContainer__1ws9B",contentBlock:"ProfileInfo_contentBlock__1elbt",imageContainer:"ProfileInfo_imageContainer__30_Qo",fileContainer:"ProfileInfo_fileContainer__50WOv",userNameTitle:"ProfileInfo_userNameTitle__RVBVV"}},134:function(e,t,o){e.exports={statusContainer:"ProfileStatusWithHooks_statusContainer__3rLyX",statusBlock:"ProfileStatusWithHooks_statusBlock__3fXb8",statusDescription:"ProfileStatusWithHooks_statusDescription__2Z5TS",statusDesc:"ProfileStatusWithHooks_statusDesc__3ovQF",noDesc:"ProfileStatusWithHooks_noDesc__1zpg-",status:"ProfileStatusWithHooks_status__Iz9rW"}},135:function(e,t,o){e.exports={postsContainer:"MyPosts_postsContainer__3Ky2W"}},136:function(e,t,o){e.exports={postContainer:"Post_postContainer__g7za6",titleBlock:"Post_titleBlock__2Zkgl",avatarBlock:"Post_avatarBlock__2KY61",avatar:"Post_avatar__1WQiw",userNameDateBlock:"Post_userNameDateBlock__2jTJU",userName:"Post_userName__1aFhD",postMessage:"Post_postMessage__1HP1K",imageBlock:"Post_imageBlock__2IP5p",likesBlock:"Post_likesBlock__5UaBe",likeDislikeContainer:"Post_likeDislikeContainer__3Mfw2",like:"Post_like__27Tas",dislike:"Post_dislike__30waD"}},137:function(e,t,o){e.exports={postsContainer:"ProfilePostForm_postsContainer___an3F",postsTitle:"ProfilePostForm_postsTitle__1BcN6",formBlock:"ProfilePostForm_formBlock__2dLqp",formBlockEnterText:"ProfilePostForm_formBlockEnterText__2_6_j",userPhoto:"ProfilePostForm_userPhoto__3vOst",formBlockSubmit:"ProfilePostForm_formBlockSubmit__1lqso"}},141:function(e,t,o){e.exports={profNavContainer:"ProfileNavigation_profNavContainer__2QlJ2",profNavItem:"ProfileNavigation_profNavItem__GtWub",profNavTitle:"ProfileNavigation_profNavTitle__2Kema",profNavActive:"ProfileNavigation_profNavActive__lIzk2"}},142:function(e,t,o){e.exports={aboutContainer:"AboutMe_aboutContainer__2Ly_v",aboutBlock:"AboutMe_aboutBlock__CunbV",basicInfoBlock:"AboutMe_basicInfoBlock__23TWU",nameBlock:"AboutMe_nameBlock__2PBQp",aboutMeBlock:"AboutMe_aboutMeBlock__3exyn",lookingJobBlock:"AboutMe_lookingJobBlock__1omhp",jobDescBlock:"AboutMe_jobDescBlock__3d0m1",linksInfoBlock:"AboutMe_linksInfoBlock__1KJQ8",facebookBlock:"AboutMe_facebookBlock__25fu9",githubBlock:"AboutMe_githubBlock__2uMQh",instagramBlock:"AboutMe_instagramBlock__31-w6",mainLinkBlock:"AboutMe_mainLinkBlock__1Lg6N",twitterBlock:"AboutMe_twitterBlock__1o2VJ",vkBlock:"AboutMe_vkBlock__1CfPh",websiteBlock:"AboutMe_websiteBlock__2_GfD",youtubeBlock:"AboutMe_youtubeBlock__3bzI8"}},143:function(e,t,o){e.exports={aboutMyFriendContainer:"MyFriends_aboutMyFriendContainer__dmom9"}},168:function(e,t,o){"use strict";o.r(t);var a=o(57),s=o(58),n=o(61),i=o(60),c=o(1),r=o.n(c),l=o(9),u=o(48),j=o(6),b=o(28),_=o(132),m=o.n(_),d=o(133),f=o.n(d),p=o(26),k=o(24),h=o(134),O=o.n(h),x=o(109),v=o(2),g=r.a.memo((function(e){var t=e.status,o=e.changeUserStatus,a=e.isOwner,s=r.a.useState(!1),n=Object(k.a)(s,2),i=n[0],c=n[1],l=r.a.useState(t),u=Object(k.a)(l,2),j=u[0],b=u[1];r.a.useEffect((function(){b(t)}),[t]);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:O.a.statusContainer,children:i&&a?Object(v.jsx)(x.a,{type:"text",className:"status",autoFocus:!0,onChange:function(e){b(e.currentTarget.value)},onBlur:function(){c(!1),o(j)},onKeyUp:function(e){"Enter"===e.key&&(c(!1),o(j))},value:j}):Object(v.jsxs)("div",{className:O.a.statusBlock,children:[Object(v.jsx)("span",{className:O.a.status,onClick:function(){c(!0)},children:t===j?t||"Empty status":Object(v.jsx)(p.a,{})}),Object(v.jsx)("span",{className:a?O.a.statusDescription:O.a.noDesc,children:"Click to change status !!!"})]})})})})),B=o(162),P=o(171),N=o(167),C=o(165),I=Object(B.a)((function(e){return Object(P.a)({root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}})})),M=function(e){var t=e.changeUserPhoto,o=I();return Object(v.jsxs)("div",{className:o.root,children:[Object(v.jsx)("input",{accept:"image/*",className:o.input,id:"icon-button-file",type:"file",onChange:function(e){e.target.files&&t(e.target.files[0])}}),Object(v.jsx)("label",{htmlFor:"icon-button-file",children:Object(v.jsx)(N.a,{color:"primary","aria-label":"upload picture",component:"span",size:"medium",children:Object(v.jsx)(C.a,{style:{fontSize:"2.5rem"}})})})]})},F=o.p+"static/media/profileBackground.97fd62ef.jpg",w=o(46),y=r.a.memo((function(e){var t=e.changeUserStatus,o=e.status,a=e.profile,s=e.changeUserPhoto,n=e.isOwner;return Object(v.jsx)("div",{className:f.a.contentContainer,style:{backgroundImage:"url(".concat(F,")")},children:Object(v.jsx)("div",{className:f.a.contentBlock,children:a?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:f.a.imageContainer,children:[Object(v.jsx)("img",{src:a.photos.large?a.photos.large:w.a,alt:"user-avatar"}),Object(v.jsx)("label",{className:n?f.a.fileContainer:"",htmlFor:"icon-button-file",children:n&&Object(v.jsx)(M,{changeUserPhoto:s})})]}),Object(v.jsx)("div",{className:f.a.userNameTitle,children:a.fullName}),Object(v.jsx)(g,{status:o,isOwner:n,changeUserStatus:t})]}):Object(v.jsx)(p.a,{})})})})),D=o(27),U=o(135),S=o.n(U),A=o(136),L=o.n(A),T=o(101),W=o(112),E=o(114),H=function(e){var t=e.likesCount,o=e.setLikesCount,a=e.postMessage,s=e.id,n=e.deletePost,i=e.profile,r=e.dislikesCount,l=e.setDislikesCount,u=e.postBackground,j=Object(c.useState)(!1),b=Object(k.a)(j,2),_=b[0],m=b[1],d=new Date,f="".concat(d.getDate(),"-").concat(d.getMonth()+1,"-").concat(d.getFullYear());return Object(v.jsxs)("div",{className:L.a.postContainer,children:[Object(v.jsxs)("div",{className:L.a.titleBlock,children:[Object(v.jsx)("div",{className:L.a.avatarBlock,children:i?Object(v.jsx)("img",{className:L.a.avatar,src:i.photos.large,alt:"user-avatar"}):Object(v.jsx)(p.a,{})}),Object(v.jsxs)("div",{className:L.a.userNameDateBlock,children:[Object(v.jsx)("div",{className:L.a.userName,children:null===i||void 0===i?void 0:i.fullName}),Object(v.jsx)("div",{className:L.a.date,children:f})]}),Object(v.jsx)("div",{className:L.a.postMessage,children:a}),Object(v.jsx)(W.a,{onDeleteHandler:function(){m(!0)}})]}),Object(v.jsx)("div",{className:L.a.imageBlock,style:{backgroundImage:"url(".concat(u,")")}}),Object(v.jsx)("div",{className:L.a.likesBlock,children:Object(v.jsxs)("div",{className:L.a.likeDislikeContainer,children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(T.b,{className:L.a.like,onClick:function(){o(s,t+1)}}),t]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(T.a,{className:L.a.dislike,onClick:function(){l(s,r+1)}}),r]})]})}),Object(v.jsx)(E.a,{title:"Delete ?",cancelCallback:function(){m(!1)},confirm:_,confirmCallback:function(){n(s)}})]})},J=o(116),K=o.n(J),z=o(137),R=o.n(z),V=o(121),q=o(19),Q=function(e){var t=e.addPost,o=e.profile,a=Object(V.a)({initialValues:{newPost:""},validate:function(e){var t={};return e.newPost&&e.newPost.length>100&&(t.newPost="Max length is 100 symbols"),t},onSubmit:function(e){t(e.newPost),a.resetForm({values:{newPost:""}})}});return Object(v.jsxs)("div",{className:R.a.postsContainer,children:[Object(v.jsx)("div",{className:R.a.postsTitle,children:"Create Post"}),Object(v.jsxs)("form",{className:R.a.formBlock,onSubmit:a.handleSubmit,children:[Object(v.jsxs)("div",{className:R.a.formBlockEnterText,children:[o?Object(v.jsx)("div",{className:R.a.userPhoto,children:Object(v.jsx)("img",{src:o?o.photos.large:"",alt:"user-avatar"})}):Object(v.jsx)(p.a,{}),Object(v.jsx)(x.a,{type:"text",placeholder:"Write something here...",formikFieldProps:a.getFieldProps("newPost")})]}),Object(v.jsxs)("div",{className:R.a.formBlockSubmit,children:[a.touched.newPost&&a.errors.newPost?Object(v.jsx)("div",{className:K.a.registrationError,children:a.errors.newPost}):Object(v.jsx)("div",{children:" "}),Object(v.jsx)(q.a,{type:"submit",title:"post"})]})]})]})},G=o(18),Y=r.a.memo((function(e){var t=e.posts,o=e.profile,a=e.setLikesCount,s=e.addPost,n=e.deletePost,i=e.setDislikesCount,c=Object(D.a)(t).reverse().map((function(e){return Object(v.jsx)(H,{id:e.id,postBackground:e.postBackground,profile:o,deletePost:n,postMessage:e.postMessage,likesCount:e.likesCount,dislikesCount:e.dislikesCount,setLikesCount:a,setDislikesCount:i},Object(G.a)())}));return Object(v.jsxs)("div",{className:S.a.postsContainer,children:[Object(v.jsx)(Q,{addPost:s,profile:o}),c]})})),Z=r.a.memo(Object(l.b)((function(e){var t=e.profilePage;return{posts:t.posts,profile:t.profile}}),{addPost:u.a,setLikesCount:u.i,deletePost:u.d,setDislikesCount:u.h})(Y)),X=o(20),$=o(17),ee=o(141),te=o.n(ee),oe=function(){return Object(v.jsx)("div",{className:te.a.profNavContainer,children:X.b.map((function(e,t){return Object(v.jsx)($.c,{to:e.path,activeClassName:te.a.profNavActive,className:te.a.profNavItem,children:Object(v.jsx)("span",{className:te.a.profNavTitle,children:e.title})},t)}))})},ae=o(142),se=o.n(ae),ne=function(e){var t=e.title,o=e.data,a=e.classname;return Object(v.jsxs)("div",{className:a,children:[Object(v.jsx)("div",{children:t}),Object(v.jsx)("div",{children:o})]})},ie=r.a.memo((function(e){var t=e.profile;return Object(v.jsx)("div",{className:se.a.aboutContainer,children:t?Object(v.jsxs)("div",{className:se.a.aboutBlock,children:[Object(v.jsx)("h2",{children:"Basic Information"}),Object(v.jsxs)("div",{className:se.a.basicInfoBlock,children:[Object(v.jsx)(ne,{title:"Name",data:t.fullName,classname:se.a.nameBlock}),Object(v.jsx)(ne,{title:"About me",data:t.aboutMe,classname:se.a.aboutMeBlock}),Object(v.jsx)(ne,{title:"Looking for a job",data:t.lookingForAJob?"true":"false",classname:se.a.lookingJobBlock}),Object(v.jsx)(ne,{title:"Job description",data:t.lookingForAJobDescription,classname:se.a.jobDescBlock})]}),Object(v.jsx)("h2",{children:"Websites and Social Links"}),Object(v.jsxs)("div",{className:se.a.linksInfoBlock,children:[Object(v.jsx)(ne,{title:"Facebook",data:t.contacts.facebook,classname:se.a.facebookBlock}),Object(v.jsx)(ne,{title:"Github",data:t.contacts.github,classname:se.a.githubBlock}),Object(v.jsx)(ne,{title:"Instagram",data:t.contacts.instagram,classname:se.a.instagramBlock}),Object(v.jsx)(ne,{title:"MainLink",data:t.contacts.mainLink,classname:se.a.mainLinkBlock}),Object(v.jsx)(ne,{title:"Twitter",data:t.contacts.twitter,classname:se.a.twitterBlock}),Object(v.jsx)(ne,{title:"VK",data:t.contacts.vk,classname:se.a.vkBlock}),Object(v.jsx)(ne,{title:"Website",data:t.contacts.website,classname:se.a.websiteBlock}),Object(v.jsx)(ne,{title:"Youtube",data:t.contacts.youtube,classname:se.a.youtubeBlock})]})]}):Object(v.jsx)(p.a,{})})})),ce=o(143),re=o.n(ce),le=r.a.memo((function(){return Object(v.jsx)("div",{className:re.a.aboutMyFriendContainer,children:"My friends"})})),ue=r.a.memo((function(e){var t=e.profile,o=e.status,a=e.changeUserStatus,s=e.changeUserPhoto,n=e.isOwner;return Object(v.jsxs)("div",{className:m.a.profileWrapper,children:[Object(v.jsx)(y,{isOwner:n,profile:t,status:o,changeUserPhoto:s,changeUserStatus:a}),Object(v.jsx)(oe,{}),Object(v.jsxs)("div",{className:m.a.profileNavPanel,children:[Object(v.jsx)(j.b,{path:"".concat(X.a.PROFILE).concat(X.a.ABOUT),render:function(){return Object(v.jsx)(ie,{profile:t})}}),Object(v.jsx)(j.b,{path:"".concat(X.a.PROFILE).concat(X.a.FRIENDS),render:function(){return Object(v.jsx)(le,{})}}),Object(v.jsx)(j.b,{path:"".concat(X.a.PROFILE).concat(X.a.POSTS),render:function(){return Object(v.jsx)(Z,{})}})]})]})})),je=o(119),be=function(e){Object(n.a)(o,e);var t=Object(i.a)(o);function o(){return Object(a.a)(this,o),t.apply(this,arguments)}return Object(s.a)(o,[{key:"refreshProfile",value:function(){var e=Number(this.props.match.params.userId);e||(e=this.props.id)||this.props.history.push("/login"),"number"===typeof e&&this.props.requestUserProfile(e),"number"===typeof e&&this.props.requestUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(v.jsx)(ue,{profile:this.props.profile,isOwner:!this.props.match.params.userId,status:this.props.status,changeUserPhoto:this.props.changeUserPhoto,changeUserStatus:this.props.changeUserStatus})}}]),o}(r.a.PureComponent);t.default=Object(b.c)(Object(l.b)((function(e){var t=e.profilePage,o=t.profile,a=t.status,s=e.auth;return{profile:o,status:a,id:s.id,isAuth:s.isAuth}}),{requestUserProfile:u.f,requestUserStatus:u.g,changeUserStatus:u.c,changeUserPhoto:u.b}),j.g,je.a)(be)}}]);
//# sourceMappingURL=4.bbcec137.chunk.js.map