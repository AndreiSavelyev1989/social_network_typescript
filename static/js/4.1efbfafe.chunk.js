(this.webpackJsonpsocial_network_typescript=this.webpackJsonpsocial_network_typescript||[]).push([[4],{109:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a(3),o=(a(1),a(110)),n=a.n(o),c=a(2),i=function(e){var t=e.id,a=e.type,o=e.placeholder,i=e.formikFieldProps,r=e.className,l=e.value,u=e.onChange,d=e.autoFocus,j=e.onBlur,b=e.onKeyUp;return Object(c.jsx)("input",Object(s.a)({id:t,className:"login"===r?n.a.loginInput:n.a.formInput&&"status"===r?n.a.statusInput:n.a.formInput,type:a,placeholder:o,required:!0,autoFocus:d,onChange:u,onBlur:j,onKeyUp:b,value:l},i))}},110:function(e,t,a){e.exports={formInput:"UniversalInput_formInput__3yZbU",loginInput:"UniversalInput_loginInput__20Stk",statusInput:"UniversalInput_statusInput__3jznv"}},112:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a(113),o=a.n(s),n=a(98),c=(a(1),a(2)),i=function(e){var t=e.onDeleteHandler,a=e.disabled;return Object(c.jsx)("div",{className:o.a.deleteBlock,children:Object(c.jsx)("div",{className:o.a.deleteButton,children:Object(c.jsx)("button",{disabled:a,onClick:t,children:Object(c.jsx)(n.a,{className:o.a.icon})})})})}},113:function(e,t,a){e.exports={deleteBlock:"DeleteButton_deleteBlock__20pgZ",deleteButton:"DeleteButton_deleteButton__2K7YW",icon:"DeleteButton_icon__2d71H"}},114:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a(1);var s=a(115),o=a.n(s),n=a(19),c=a(2),i=function(e){var t=e.confirm,a=e.title,s=e.confirmCallback,i=e.cancelCallback;return Object(c.jsxs)("div",{className:t?o.a.modalContainer:o.a.noModal,children:[Object(c.jsx)("div",{className:o.a.text,children:a}),Object(c.jsxs)("div",{className:o.a.confirmBlock,children:[Object(c.jsx)(n.a,{callback:s,title:"Ok"}),Object(c.jsx)(n.a,{callback:i,title:"Cancel",className:!0})]})]})}},115:function(e,t,a){e.exports={modalContainer:"ConfirmModal_modalContainer__3h725",text:"ConfirmModal_text__2KoFI",confirmBlock:"ConfirmModal_confirmBlock__2ahR6",noModal:"ConfirmModal_noModal__2qRHI"}},118:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a(3),o=(a(1),a(6)),n=a(9),c=a(2),i=function(e){return{isAuth:e.auth.isAuth}},r=function(e){return Object(n.b)(i)((function(t){return t.isAuth?Object(c.jsx)(e,Object(s.a)({},t)):Object(c.jsx)(o.a,{to:"/login"})}))}},130:function(e,t,a){e.exports={profileWrapper:"Profile_profileWrapper__1ukOh",profileNavPanel:"Profile_profileNavPanel__3s_UC"}},131:function(e,t,a){e.exports={contentContainer:"ProfileInfo_contentContainer__3sVIb",contentBlock:"ProfileInfo_contentBlock__wXZAZ",imageContainer:"ProfileInfo_imageContainer__2SDPn",fileContainer:"ProfileInfo_fileContainer__3B-ZW",userNameTitle:"ProfileInfo_userNameTitle__25pOF"}},132:function(e,t,a){e.exports={statusContainer:"ProfileStatusWithHooks_statusContainer__1bPq0",statusBlock:"ProfileStatusWithHooks_statusBlock__1RmZy",statusDescription:"ProfileStatusWithHooks_statusDescription__2xaif",statusDesc:"ProfileStatusWithHooks_statusDesc__1ynp9",noDesc:"ProfileStatusWithHooks_noDesc__1X-hX",status:"ProfileStatusWithHooks_status__3dkFO"}},133:function(e,t,a){e.exports={postsContainer:"MyPosts_postsContainer__1Lrps"}},134:function(e,t,a){e.exports={postContainer:"Post_postContainer__FAuKW",titleBlock:"Post_titleBlock__33v-1",avatarBlock:"Post_avatarBlock__1xqFu",avatar:"Post_avatar__OPeTU",userNameDateBlock:"Post_userNameDateBlock__22iO1",userName:"Post_userName__2F4_a",postMessage:"Post_postMessage__3hXiA",imageBlock:"Post_imageBlock__2ftef",likesBlock:"Post_likesBlock__RQwDo",likeDislikeContainer:"Post_likeDislikeContainer__XR5B_",like:"Post_like__1j4Dz",dislike:"Post_dislike__gdzsL"}},135:function(e,t,a){e.exports={postsContainer:"ProfilePostForm_postsContainer__1Yabx",postsTitle:"ProfilePostForm_postsTitle__37O0F",formBlock:"ProfilePostForm_formBlock__3gxId",formBlockEnterText:"ProfilePostForm_formBlockEnterText__xMSlt",userPhoto:"ProfilePostForm_userPhoto__NJztW",formBlockSubmit:"ProfilePostForm_formBlockSubmit__1Lsni",error:"ProfilePostForm_error__FBeCe"}},139:function(e,t,a){e.exports={profNavContainer:"ProfileNavigation_profNavContainer__2l5AW",profNavItem:"ProfileNavigation_profNavItem__qfxEZ",profNavTitle:"ProfileNavigation_profNavTitle__1F__x",profNavActive:"ProfileNavigation_profNavActive__1eLrM"}},140:function(e,t,a){e.exports={aboutContainer:"About_aboutContainer__2LIEn",aboutBlock:"About_aboutBlock__EZiww",basicInfoBlock:"About_basicInfoBlock__3GHda",nameBlock:"About_nameBlock__1Uegn",aboutMeBlock:"About_aboutMeBlock__2-BVZ",lookingJobBlock:"About_lookingJobBlock__3UZEj",jobDescBlock:"About_jobDescBlock__3d7pn",linksInfoBlock:"About_linksInfoBlock__1_9ue",facebookBlock:"About_facebookBlock__1WXgo",githubBlock:"About_githubBlock__1js9H",instagramBlock:"About_instagramBlock__xnHKk",mainLinkBlock:"About_mainLinkBlock__2mD38",twitterBlock:"About_twitterBlock__39nx6",vkBlock:"About_vkBlock__1KYAS",websiteBlock:"About_websiteBlock__ckAwr",youtubeBlock:"About_youtubeBlock__3Z8Ka"}},141:function(e,t,a){e.exports={aboutMyFriendContainer:"MyFriends_aboutMyFriendContainer__3uka4"}},168:function(e,t,a){"use strict";a.r(t);var s=a(57),o=a(58),n=a(61),c=a(60),i=a(1),r=a.n(i),l=a(9),u=a(48),d=a(6),j=a(28),b=a(130),m=a.n(b),f=a(131),p=a.n(f),_=a(26),k=a(24),h=a(132),O=a.n(h),x=a(109),v=a(2),g=r.a.memo((function(e){var t=e.status,a=e.changeUserStatus,s=e.isOwner,o=r.a.useState(!1),n=Object(k.a)(o,2),c=n[0],i=n[1],l=r.a.useState(t),u=Object(k.a)(l,2),d=u[0],j=u[1];r.a.useEffect((function(){j(t)}),[t]);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:O.a.statusContainer,children:c&&s?Object(v.jsx)(x.a,{type:"text",className:"status",autoFocus:!0,onChange:function(e){j(e.currentTarget.value)},onBlur:function(){i(!1),a(d)},onKeyUp:function(e){"Enter"===e.key&&(i(!1),a(d))},value:d}):Object(v.jsxs)("div",{className:O.a.statusBlock,children:[Object(v.jsx)("span",{className:O.a.status,onClick:function(){i(!0)},children:t===d?t||"Empty status":Object(v.jsx)(_.a,{})}),Object(v.jsx)("span",{className:s?O.a.statusDescription:O.a.noDesc,children:"Click to change status !!!"})]})})})})),B=a(162),P=a(171),N=a(167),C=a(165),I=Object(B.a)((function(e){return Object(P.a)({root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}})})),F=function(e){var t=e.changeUserPhoto,a=I();return Object(v.jsxs)("div",{className:a.root,children:[Object(v.jsx)("input",{accept:"image/*",className:a.input,id:"icon-button-file",type:"file",onChange:function(e){e.target.files&&t(e.target.files[0])}}),Object(v.jsx)("label",{htmlFor:"icon-button-file",children:Object(v.jsx)(N.a,{color:"primary","aria-label":"upload picture",component:"span",size:"medium",children:Object(v.jsx)(C.a,{style:{fontSize:"2.5rem"}})})})]})},y=a.p+"static/media/profileBackground.97fd62ef.jpg",U=a(46),D=r.a.memo((function(e){var t=e.changeUserStatus,a=e.status,s=e.profile,o=e.changeUserPhoto,n=e.isOwner;return Object(v.jsx)("div",{className:p.a.contentContainer,style:{backgroundImage:"url(".concat(y,")")},children:Object(v.jsx)("div",{className:p.a.contentBlock,children:s?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:p.a.imageContainer,children:[Object(v.jsx)("img",{src:s.photos.large?s.photos.large:U.a,alt:"user-avatar"}),Object(v.jsx)("label",{className:n?p.a.fileContainer:"",htmlFor:"icon-button-file",children:n&&Object(v.jsx)(F,{changeUserPhoto:o})})]}),Object(v.jsx)("div",{className:p.a.userNameTitle,children:s.fullName}),Object(v.jsx)(g,{status:a,isOwner:n,changeUserStatus:t})]}):Object(v.jsx)(_.a,{})})})})),w=a(27),A=a(133),S=a.n(A),M=a(134),L=a.n(M),W=a(101),T=a(112),E=a(114),H=function(e){var t=e.likesCount,a=e.setLikesCount,s=e.postMessage,o=e.id,n=e.deletePost,c=e.profile,r=e.dislikesCount,l=e.setDislikesCount,u=e.postBackground,d=e.authUserId,j=Object(i.useState)(!1),b=Object(k.a)(j,2),m=b[0],f=b[1],p=new Date,h="".concat(p.getDate(),"-").concat(p.getMonth()+1,"-").concat(p.getFullYear());return Object(v.jsxs)("div",{className:L.a.postContainer,children:[Object(v.jsxs)("div",{className:L.a.titleBlock,children:[Object(v.jsx)("div",{className:L.a.avatarBlock,children:c?Object(v.jsx)("img",{className:L.a.avatar,src:c.photos.large?c.photos.large:U.a,alt:"user-avatar"}):Object(v.jsx)(_.a,{})}),Object(v.jsxs)("div",{className:L.a.userNameDateBlock,children:[Object(v.jsx)("div",{className:L.a.userName,children:null===c||void 0===c?void 0:c.fullName}),Object(v.jsx)("div",{className:L.a.date,children:h})]}),Object(v.jsx)("div",{className:L.a.postMessage,children:s}),Object(v.jsx)(T.a,{onDeleteHandler:function(){f(!0)},disabled:d!==(null===c||void 0===c?void 0:c.userId)})]}),Object(v.jsx)("div",{className:L.a.imageBlock,style:{backgroundImage:"url(".concat(u,")")}}),Object(v.jsx)("div",{className:L.a.likesBlock,children:Object(v.jsxs)("div",{className:L.a.likeDislikeContainer,children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(W.b,{className:L.a.like,onClick:function(){a(o,t+1)}}),t]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(W.a,{className:L.a.dislike,onClick:function(){l(o,r+1)}}),r]})]})}),Object(v.jsx)(E.a,{title:"Delete ?",cancelCallback:function(){f(!1)},confirm:m,confirmCallback:function(){n(o)}})]})},Z=a(135),K=a.n(Z),R=a(119),q=a(19),J=function(e){var t=e.addPost,a=e.profile,s=e.id,o=Object(R.a)({initialValues:{newPost:""},validate:function(e){var t={};return e.newPost&&e.newPost.length>100&&(t.newPost="Max length is 100 symbols"),t},onSubmit:function(e){t(e.newPost),o.resetForm({values:{newPost:""}})}});return Object(v.jsx)(v.Fragment,{children:a&&s===(null===a||void 0===a?void 0:a.userId)?Object(v.jsxs)("div",{className:K.a.postsContainer,children:[Object(v.jsx)("div",{className:K.a.postsTitle,children:"Create Post"}),Object(v.jsxs)("form",{className:K.a.formBlock,onSubmit:o.handleSubmit,children:[Object(v.jsxs)("div",{className:K.a.formBlockEnterText,children:[a?Object(v.jsx)("div",{className:K.a.userPhoto,children:Object(v.jsx)("img",{src:a.photos.large?a.photos.large:U.a,alt:"user-avatar"})}):Object(v.jsx)(_.a,{}),Object(v.jsx)(x.a,{type:"text",placeholder:"Write something here...",formikFieldProps:o.getFieldProps("newPost")})]}),Object(v.jsxs)("div",{className:K.a.formBlockSubmit,children:[o.touched.newPost&&o.errors.newPost?Object(v.jsx)("div",{className:K.a.error,children:o.errors.newPost}):Object(v.jsx)("div",{}),Object(v.jsx)(q.a,{type:"submit",title:"post"})]})]})]}):Object(v.jsx)("div",{})})},z=a(18),X=r.a.memo((function(e){var t=e.posts,a=e.profile,s=e.setLikesCount,o=e.addPost,n=e.deletePost,c=e.setDislikesCount,i=e.authUserId,r=Object(w.a)(t).reverse().map((function(e){return Object(v.jsx)(H,{id:e.id,postBackground:e.postBackground,profile:a,deletePost:n,postMessage:e.postMessage,likesCount:e.likesCount,dislikesCount:e.dislikesCount,setLikesCount:s,setDislikesCount:c,authUserId:i},Object(z.a)())}));return Object(v.jsxs)("div",{className:S.a.postsContainer,children:[Object(v.jsx)(J,{addPost:o,profile:a,id:i}),r]})})),Y=r.a.memo(Object(l.b)((function(e){var t=e.profilePage;return{posts:t.posts,profile:t.profile,authUserId:e.auth.id}}),{addPost:u.a,setLikesCount:u.i,deletePost:u.d,setDislikesCount:u.h})(X)),V=a(20),G=a(17),Q=a(139),$=a.n(Q),ee=function(e){var t=e.userId;return Object(v.jsx)("div",{className:$.a.profNavContainer,children:V.b.map((function(e,a){return Object(v.jsx)(G.c,{to:"".concat(V.a.PROFILE,"/").concat(t).concat(e.path),activeClassName:$.a.profNavActive,className:$.a.profNavItem,children:Object(v.jsx)("span",{className:$.a.profNavTitle,children:e.title})},a)}))})},te=a(140),ae=a.n(te),se=function(e){var t=e.title,a=e.data,s=e.classname;return Object(v.jsxs)("div",{className:s,children:[Object(v.jsx)("div",{children:t}),Object(v.jsx)("div",{children:a||"Empty field"})]})},oe=r.a.memo((function(e){var t=e.profile;return Object(v.jsx)("div",{className:ae.a.aboutContainer,children:t?Object(v.jsxs)("div",{className:ae.a.aboutBlock,children:[Object(v.jsx)("h2",{children:"Basic Information"}),Object(v.jsxs)("div",{className:ae.a.basicInfoBlock,children:[Object(v.jsx)(se,{title:"Name",data:t.fullName,classname:ae.a.nameBlock}),Object(v.jsx)(se,{title:"About me",data:t.aboutMe,classname:ae.a.aboutMeBlock}),Object(v.jsx)(se,{title:"Looking for a job",data:t.lookingForAJob?"true":"false",classname:ae.a.lookingJobBlock}),Object(v.jsx)(se,{title:"Job description",data:t.lookingForAJobDescription,classname:ae.a.jobDescBlock})]}),Object(v.jsx)("h2",{children:"Websites and Social Links"}),Object(v.jsxs)("div",{className:ae.a.linksInfoBlock,children:[Object(v.jsx)(se,{title:"Facebook",data:t.contacts.facebook,classname:ae.a.facebookBlock}),Object(v.jsx)(se,{title:"Github",data:t.contacts.github,classname:ae.a.githubBlock}),Object(v.jsx)(se,{title:"Instagram",data:t.contacts.instagram,classname:ae.a.instagramBlock}),Object(v.jsx)(se,{title:"MainLink",data:t.contacts.mainLink,classname:ae.a.mainLinkBlock}),Object(v.jsx)(se,{title:"Twitter",data:t.contacts.twitter,classname:ae.a.twitterBlock}),Object(v.jsx)(se,{title:"VK",data:t.contacts.vk,classname:ae.a.vkBlock}),Object(v.jsx)(se,{title:"Website",data:t.contacts.website,classname:ae.a.websiteBlock}),Object(v.jsx)(se,{title:"Youtube",data:t.contacts.youtube,classname:ae.a.youtubeBlock})]})]}):Object(v.jsx)(_.a,{})})})),ne=a(141),ce=a.n(ne),ie=r.a.memo((function(){return Object(v.jsx)("div",{className:ce.a.aboutMyFriendContainer,children:"Friends"})})),re=r.a.memo((function(e){var t=e.profile,a=e.status,s=e.changeUserStatus,o=e.changeUserPhoto,n=e.isOwner,c=e.paramsUserId;return Object(v.jsxs)("div",{className:m.a.profileWrapper,children:[Object(v.jsx)(D,{isOwner:n,profile:t,status:a,changeUserPhoto:o,changeUserStatus:s}),Object(v.jsx)(ee,{userId:n?null===t||void 0===t?void 0:t.userId:c}),Object(v.jsxs)("div",{className:m.a.profileNavPanel,children:[Object(v.jsx)(d.b,{path:"".concat(V.a.PROFILE,"/").concat(c).concat(V.a.ABOUT),render:function(){return Object(v.jsx)(oe,{profile:t})}}),Object(v.jsx)(d.b,{path:"".concat(V.a.PROFILE,"/").concat(c).concat(V.a.FRIENDS),render:function(){return Object(v.jsx)(ie,{})}}),Object(v.jsx)(d.b,{path:"".concat(V.a.PROFILE,"/").concat(c).concat(V.a.POSTS),render:function(){return Object(v.jsx)(Y,{})}})]})]})})),le=a(118),ue=function(e){Object(n.a)(a,e);var t=Object(c.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"refreshProfile",value:function(){var e=Number(this.props.match.params.userId);e||(e=this.props.id)||this.props.history.push("/login"),"number"===typeof e&&this.props.requestUserProfile(e),"number"===typeof e&&this.props.requestUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(v.jsx)(re,{profile:this.props.profile,isOwner:!this.props.match.params.userId||Number(this.props.match.params.userId)===this.props.id,paramsUserId:Number(this.props.match.params.userId),status:this.props.status,changeUserPhoto:this.props.changeUserPhoto,changeUserStatus:this.props.changeUserStatus})}}]),a}(r.a.PureComponent);t.default=Object(j.c)(Object(l.b)((function(e){var t=e.profilePage,a=t.profile,s=t.status,o=e.auth;return{profile:a,status:s,id:o.id,isAuth:o.isAuth}}),{requestUserProfile:u.f,requestUserStatus:u.g,changeUserStatus:u.c,changeUserPhoto:u.b}),d.g,le.a)(ue)}}]);
//# sourceMappingURL=4.1efbfafe.chunk.js.map