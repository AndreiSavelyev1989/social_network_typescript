(this.webpackJsonpsocial_network_typescript=this.webpackJsonpsocial_network_typescript||[]).push([[4],{109:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var s=a(3),o=(a(1),a(110)),n=a.n(o),c=a(2),i=function(t){var e=t.id,a=t.type,o=t.placeholder,i=t.formikFieldProps,r=t.className,l=t.value,u=t.onChange,j=t.autoFocus,d=t.onBlur,b=t.onKeyUp;return Object(c.jsx)("input",Object(s.a)({id:e,className:"login"===r?n.a.loginInput:n.a.formInput&&"status"===r?n.a.statusInput:n.a.formInput,type:a,placeholder:o,required:!0,autoFocus:j,onChange:u,onBlur:d,onKeyUp:b,value:l},i))}},110:function(t,e,a){t.exports={formInput:"UniversalInput_formInput__3Hjo-",loginInput:"UniversalInput_loginInput__3G6O5",statusInput:"UniversalInput_statusInput__1B1FK"}},112:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var s=a(113),o=a.n(s),n=a(98),c=(a(1),a(2)),i=function(t){var e=t.onDeleteHandler,a=t.disabled;return Object(c.jsx)("div",{className:o.a.deleteBlock,children:Object(c.jsx)("div",{className:o.a.deleteButton,children:Object(c.jsx)("button",{disabled:a,onClick:e,children:Object(c.jsx)(n.a,{className:o.a.icon})})})})}},113:function(t,e,a){t.exports={deleteBlock:"DeleteButton_deleteBlock__jY_3E",deleteButton:"DeleteButton_deleteButton__3GOrh",icon:"DeleteButton_icon__1Oe5w"}},114:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a(1);var s=a(115),o=a.n(s),n=a(19),c=a(2),i=function(t){var e=t.confirm,a=t.title,s=t.confirmCallback,i=t.cancelCallback;return Object(c.jsxs)("div",{className:e?o.a.modalContainer:o.a.noModal,children:[Object(c.jsx)("div",{className:o.a.text,children:a}),Object(c.jsxs)("div",{className:o.a.confirmBlock,children:[Object(c.jsx)(n.a,{callback:s,title:"Ok"}),Object(c.jsx)(n.a,{callback:i,title:"Cancel",className:!0})]})]})}},115:function(t,e,a){t.exports={modalContainer:"ConfirmModal_modalContainer__3sxOp",text:"ConfirmModal_text__j5Yf6",confirmBlock:"ConfirmModal_confirmBlock__2aHcg",noModal:"ConfirmModal_noModal__2C5TK"}},118:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var s=a(3),o=(a(1),a(6)),n=a(9),c=a(2),i=function(t){return{isAuth:t.auth.isAuth}},r=function(t){return Object(n.b)(i)((function(e){return e.isAuth?Object(c.jsx)(t,Object(s.a)({},e)):Object(c.jsx)(o.a,{to:"/login"})}))}},130:function(t,e,a){t.exports={profileWrapper:"Profile_profileWrapper__30YUZ",profileNavPanel:"Profile_profileNavPanel__jFxzE"}},131:function(t,e,a){t.exports={contentContainer:"ProfileInfo_contentContainer__1ws9B",contentBlock:"ProfileInfo_contentBlock__1elbt",imageContainer:"ProfileInfo_imageContainer__30_Qo",fileContainer:"ProfileInfo_fileContainer__50WOv",userNameTitle:"ProfileInfo_userNameTitle__RVBVV"}},132:function(t,e,a){t.exports={statusContainer:"ProfileStatusWithHooks_statusContainer__3rLyX",statusBlock:"ProfileStatusWithHooks_statusBlock__3fXb8",statusDescription:"ProfileStatusWithHooks_statusDescription__2Z5TS",statusDesc:"ProfileStatusWithHooks_statusDesc__3ovQF",noDesc:"ProfileStatusWithHooks_noDesc__1zpg-",status:"ProfileStatusWithHooks_status__Iz9rW"}},133:function(t,e,a){t.exports={postsContainer:"MyPosts_postsContainer__3Ky2W"}},134:function(t,e,a){t.exports={postContainer:"Post_postContainer__g7za6",titleBlock:"Post_titleBlock__2Zkgl",avatarBlock:"Post_avatarBlock__2KY61",avatar:"Post_avatar__1WQiw",userNameDateBlock:"Post_userNameDateBlock__2jTJU",userName:"Post_userName__1aFhD",postMessage:"Post_postMessage__1HP1K",imageBlock:"Post_imageBlock__2IP5p",likesBlock:"Post_likesBlock__5UaBe",likeDislikeContainer:"Post_likeDislikeContainer__3Mfw2",like:"Post_like__27Tas",dislike:"Post_dislike__30waD"}},135:function(t,e,a){t.exports={postsContainer:"ProfilePostForm_postsContainer___an3F",postsTitle:"ProfilePostForm_postsTitle__1BcN6",formBlock:"ProfilePostForm_formBlock__2dLqp",formBlockEnterText:"ProfilePostForm_formBlockEnterText__2_6_j",userPhoto:"ProfilePostForm_userPhoto__3vOst",formBlockSubmit:"ProfilePostForm_formBlockSubmit__1lqso",error:"ProfilePostForm_error__1cTWa"}},139:function(t,e,a){t.exports={profNavContainer:"ProfileNavigation_profNavContainer__2QlJ2",profNavItem:"ProfileNavigation_profNavItem__GtWub",profNavTitle:"ProfileNavigation_profNavTitle__2Kema",profNavActive:"ProfileNavigation_profNavActive__lIzk2"}},140:function(t,e,a){t.exports={aboutContainer:"About_aboutContainer__2oGBO",aboutBlock:"About_aboutBlock__1pXn6",basicInfoBlock:"About_basicInfoBlock__3qhtw",nameBlock:"About_nameBlock__3my6H",aboutMeBlock:"About_aboutMeBlock__Sws1M",lookingJobBlock:"About_lookingJobBlock__4O7tD",jobDescBlock:"About_jobDescBlock__IcrWg",linksInfoBlock:"About_linksInfoBlock__3XqQ6",facebookBlock:"About_facebookBlock__3kzmG",githubBlock:"About_githubBlock__1RcBf",instagramBlock:"About_instagramBlock__3j3n8",mainLinkBlock:"About_mainLinkBlock__2yfh8",twitterBlock:"About_twitterBlock__1UjJR",vkBlock:"About_vkBlock__2qynN",websiteBlock:"About_websiteBlock__2Oe-G",youtubeBlock:"About_youtubeBlock__14D5T"}},141:function(t,e,a){t.exports={aboutMyFriendContainer:"MyFriends_aboutMyFriendContainer__dmom9"}},168:function(t,e,a){"use strict";a.r(e);var s=a(57),o=a(58),n=a(61),c=a(60),i=a(1),r=a.n(i),l=a(9),u=a(48),j=a(6),d=a(28),b=a(130),m=a.n(b),f=a(131),p=a.n(f),_=a(26),k=a(24),h=a(132),O=a.n(h),x=a(109),v=a(2),B=r.a.memo((function(t){var e=t.status,a=t.changeUserStatus,s=t.isOwner,o=r.a.useState(!1),n=Object(k.a)(o,2),c=n[0],i=n[1],l=r.a.useState(e),u=Object(k.a)(l,2),j=u[0],d=u[1];r.a.useEffect((function(){d(e)}),[e]);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:O.a.statusContainer,children:c&&s?Object(v.jsx)(x.a,{type:"text",className:"status",autoFocus:!0,onChange:function(t){d(t.currentTarget.value)},onBlur:function(){i(!1),a(j)},onKeyUp:function(t){"Enter"===t.key&&(i(!1),a(j))},value:j}):Object(v.jsxs)("div",{className:O.a.statusBlock,children:[Object(v.jsx)("span",{className:O.a.status,onClick:function(){i(!0)},children:e===j?e||"Empty status":Object(v.jsx)(_.a,{})}),Object(v.jsx)("span",{className:s?O.a.statusDescription:O.a.noDesc,children:"Click to change status !!!"})]})})})})),g=a(162),P=a(171),N=a(167),C=a(165),I=Object(g.a)((function(t){return Object(P.a)({root:{"& > *":{margin:t.spacing(1)}},input:{display:"none"}})})),y=function(t){var e=t.changeUserPhoto,a=I();return Object(v.jsxs)("div",{className:a.root,children:[Object(v.jsx)("input",{accept:"image/*",className:a.input,id:"icon-button-file",type:"file",onChange:function(t){t.target.files&&e(t.target.files[0])}}),Object(v.jsx)("label",{htmlFor:"icon-button-file",children:Object(v.jsx)(N.a,{color:"primary","aria-label":"upload picture",component:"span",size:"medium",children:Object(v.jsx)(C.a,{style:{fontSize:"2.5rem"}})})})]})},F=a.p+"static/media/profileBackground.97fd62ef.jpg",U=a(46),w=r.a.memo((function(t){var e=t.changeUserStatus,a=t.status,s=t.profile,o=t.changeUserPhoto,n=t.isOwner;return Object(v.jsx)("div",{className:p.a.contentContainer,style:{backgroundImage:"url(".concat(F,")")},children:Object(v.jsx)("div",{className:p.a.contentBlock,children:s?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:p.a.imageContainer,children:[Object(v.jsx)("img",{src:s.photos.large?s.photos.large:U.a,alt:"user-avatar"}),Object(v.jsx)("label",{className:n?p.a.fileContainer:"",htmlFor:"icon-button-file",children:n&&Object(v.jsx)(y,{changeUserPhoto:o})})]}),Object(v.jsx)("div",{className:p.a.userNameTitle,children:s.fullName}),Object(v.jsx)(B,{status:a,isOwner:n,changeUserStatus:e})]}):Object(v.jsx)(_.a,{})})})})),D=a(27),S=a(133),A=a.n(S),M=a(134),T=a.n(M),W=a(101),L=a(112),E=a(114),H=function(t){var e=t.likesCount,a=t.setLikesCount,s=t.postMessage,o=t.id,n=t.deletePost,c=t.profile,r=t.dislikesCount,l=t.setDislikesCount,u=t.postBackground,j=t.authUserId,d=Object(i.useState)(!1),b=Object(k.a)(d,2),m=b[0],f=b[1],p=new Date,h="".concat(p.getDate(),"-").concat(p.getMonth()+1,"-").concat(p.getFullYear());return Object(v.jsxs)("div",{className:T.a.postContainer,children:[Object(v.jsxs)("div",{className:T.a.titleBlock,children:[Object(v.jsx)("div",{className:T.a.avatarBlock,children:c?Object(v.jsx)("img",{className:T.a.avatar,src:c.photos.large?c.photos.large:U.a,alt:"user-avatar"}):Object(v.jsx)(_.a,{})}),Object(v.jsxs)("div",{className:T.a.userNameDateBlock,children:[Object(v.jsx)("div",{className:T.a.userName,children:null===c||void 0===c?void 0:c.fullName}),Object(v.jsx)("div",{className:T.a.date,children:h})]}),Object(v.jsx)("div",{className:T.a.postMessage,children:s}),Object(v.jsx)(L.a,{onDeleteHandler:function(){f(!0)},disabled:j!==(null===c||void 0===c?void 0:c.userId)})]}),Object(v.jsx)("div",{className:T.a.imageBlock,style:{backgroundImage:"url(".concat(u,")")}}),Object(v.jsx)("div",{className:T.a.likesBlock,children:Object(v.jsxs)("div",{className:T.a.likeDislikeContainer,children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(W.b,{className:T.a.like,onClick:function(){a(o,e+1)}}),e]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(W.a,{className:T.a.dislike,onClick:function(){l(o,r+1)}}),r]})]})}),Object(v.jsx)(E.a,{title:"Delete ?",cancelCallback:function(){f(!1)},confirm:m,confirmCallback:function(){n(o)}})]})},J=a(135),q=a.n(J),K=a(119),z=a(19),R=function(t){var e=t.addPost,a=t.profile,s=t.id,o=Object(K.a)({initialValues:{newPost:""},validate:function(t){var e={};return t.newPost&&t.newPost.length>100&&(e.newPost="Max length is 100 symbols"),e},onSubmit:function(t){e(t.newPost),o.resetForm({values:{newPost:""}})}});return Object(v.jsx)(v.Fragment,{children:a&&s===(null===a||void 0===a?void 0:a.userId)?Object(v.jsxs)("div",{className:q.a.postsContainer,children:[Object(v.jsx)("div",{className:q.a.postsTitle,children:"Create Post"}),Object(v.jsxs)("form",{className:q.a.formBlock,onSubmit:o.handleSubmit,children:[Object(v.jsxs)("div",{className:q.a.formBlockEnterText,children:[a?Object(v.jsx)("div",{className:q.a.userPhoto,children:Object(v.jsx)("img",{src:a.photos.large?a.photos.large:U.a,alt:"user-avatar"})}):Object(v.jsx)(_.a,{}),Object(v.jsx)(x.a,{type:"text",placeholder:"Write something here...",formikFieldProps:o.getFieldProps("newPost")})]}),Object(v.jsxs)("div",{className:q.a.formBlockSubmit,children:[o.touched.newPost&&o.errors.newPost?Object(v.jsx)("div",{className:q.a.error,children:o.errors.newPost}):Object(v.jsx)("div",{}),Object(v.jsx)(z.a,{type:"submit",title:"post"})]})]})]}):Object(v.jsx)("div",{})})},G=a(18),Y=r.a.memo((function(t){var e=t.posts,a=t.profile,s=t.setLikesCount,o=t.addPost,n=t.deletePost,c=t.setDislikesCount,i=t.authUserId,r=Object(D.a)(e).reverse().map((function(t){return Object(v.jsx)(H,{id:t.id,postBackground:t.postBackground,profile:a,deletePost:n,postMessage:t.postMessage,likesCount:t.likesCount,dislikesCount:t.dislikesCount,setLikesCount:s,setDislikesCount:c,authUserId:i},Object(G.a)())}));return Object(v.jsxs)("div",{className:A.a.postsContainer,children:[Object(v.jsx)(R,{addPost:o,profile:a,id:i}),r]})})),Q=r.a.memo(Object(l.b)((function(t){var e=t.profilePage;return{posts:e.posts,profile:e.profile,authUserId:t.auth.id}}),{addPost:u.a,setLikesCount:u.i,deletePost:u.d,setDislikesCount:u.h})(Y)),V=a(20),X=a(17),Z=a(139),$=a.n(Z),tt=function(t){var e=t.userId;return Object(v.jsx)("div",{className:$.a.profNavContainer,children:V.b.map((function(t,a){return Object(v.jsx)(X.c,{to:"".concat(V.a.PROFILE,"/").concat(e).concat(t.path),activeClassName:$.a.profNavActive,className:$.a.profNavItem,children:Object(v.jsx)("span",{className:$.a.profNavTitle,children:t.title})},a)}))})},et=a(140),at=a.n(et),st=function(t){var e=t.title,a=t.data,s=t.classname;return Object(v.jsxs)("div",{className:s,children:[Object(v.jsx)("div",{children:e}),Object(v.jsx)("div",{children:a})]})},ot=r.a.memo((function(t){var e=t.profile;return Object(v.jsx)("div",{className:at.a.aboutContainer,children:e?Object(v.jsxs)("div",{className:at.a.aboutBlock,children:[Object(v.jsx)("h2",{children:"Basic Information"}),Object(v.jsxs)("div",{className:at.a.basicInfoBlock,children:[Object(v.jsx)(st,{title:"Name",data:e.fullName,classname:at.a.nameBlock}),Object(v.jsx)(st,{title:"About me",data:e.aboutMe,classname:at.a.aboutMeBlock}),Object(v.jsx)(st,{title:"Looking for a job",data:e.lookingForAJob?"true":"false",classname:at.a.lookingJobBlock}),Object(v.jsx)(st,{title:"Job description",data:e.lookingForAJobDescription,classname:at.a.jobDescBlock})]}),Object(v.jsx)("h2",{children:"Websites and Social Links"}),Object(v.jsxs)("div",{className:at.a.linksInfoBlock,children:[Object(v.jsx)(st,{title:"Facebook",data:e.contacts.facebook,classname:at.a.facebookBlock}),Object(v.jsx)(st,{title:"Github",data:e.contacts.github,classname:at.a.githubBlock}),Object(v.jsx)(st,{title:"Instagram",data:e.contacts.instagram,classname:at.a.instagramBlock}),Object(v.jsx)(st,{title:"MainLink",data:e.contacts.mainLink,classname:at.a.mainLinkBlock}),Object(v.jsx)(st,{title:"Twitter",data:e.contacts.twitter,classname:at.a.twitterBlock}),Object(v.jsx)(st,{title:"VK",data:e.contacts.vk,classname:at.a.vkBlock}),Object(v.jsx)(st,{title:"Website",data:e.contacts.website,classname:at.a.websiteBlock}),Object(v.jsx)(st,{title:"Youtube",data:e.contacts.youtube,classname:at.a.youtubeBlock})]})]}):Object(v.jsx)(_.a,{})})})),nt=a(141),ct=a.n(nt),it=r.a.memo((function(){return Object(v.jsx)("div",{className:ct.a.aboutMyFriendContainer,children:"Friends"})})),rt=r.a.memo((function(t){var e=t.profile,a=t.status,s=t.changeUserStatus,o=t.changeUserPhoto,n=t.isOwner,c=t.paramsUserId;return Object(v.jsxs)("div",{className:m.a.profileWrapper,children:[Object(v.jsx)(w,{isOwner:n,profile:e,status:a,changeUserPhoto:o,changeUserStatus:s}),Object(v.jsx)(tt,{userId:n?null===e||void 0===e?void 0:e.userId:c}),Object(v.jsxs)("div",{className:m.a.profileNavPanel,children:[Object(v.jsx)(j.b,{path:"".concat(V.a.PROFILE,"/").concat(c).concat(V.a.ABOUT),render:function(){return Object(v.jsx)(ot,{profile:e})}}),Object(v.jsx)(j.b,{path:"".concat(V.a.PROFILE,"/").concat(c).concat(V.a.FRIENDS),render:function(){return Object(v.jsx)(it,{})}}),Object(v.jsx)(j.b,{path:"".concat(V.a.PROFILE,"/").concat(c).concat(V.a.POSTS),render:function(){return Object(v.jsx)(Q,{})}})]})]})})),lt=a(118),ut=function(t){Object(n.a)(a,t);var e=Object(c.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"refreshProfile",value:function(){var t=Number(this.props.match.params.userId);t||(t=this.props.id)||this.props.history.push("/login"),"number"===typeof t&&this.props.requestUserProfile(t),"number"===typeof t&&this.props.requestUserStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(v.jsx)(rt,{profile:this.props.profile,isOwner:!this.props.match.params.userId||Number(this.props.match.params.userId)===this.props.id,paramsUserId:Number(this.props.match.params.userId),status:this.props.status,changeUserPhoto:this.props.changeUserPhoto,changeUserStatus:this.props.changeUserStatus})}}]),a}(r.a.PureComponent);e.default=Object(d.c)(Object(l.b)((function(t){var e=t.profilePage,a=e.profile,s=e.status,o=t.auth;return{profile:a,status:s,id:o.id,isAuth:o.isAuth}}),{requestUserProfile:u.f,requestUserStatus:u.g,changeUserStatus:u.c,changeUserPhoto:u.b}),j.g,lt.a)(ut)}}]);
//# sourceMappingURL=4.201d252b.chunk.js.map