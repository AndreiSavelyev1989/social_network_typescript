(this.webpackJsonpsocial_network_typescript=this.webpackJsonpsocial_network_typescript||[]).push([[4],{109:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a(3),o=(a(1),a(110)),n=a.n(o),c=a(2),i=function(e){var t=e.id,a=e.type,o=e.placeholder,i=e.formikFieldProps,r=e.className,l=e.value,u=e.onChange,j=e.autoFocus,b=e.onBlur,f=e.onKeyUp;return Object(c.jsx)("input",Object(s.a)({id:t,className:"login"===r?n.a.loginInput:n.a.formInput&&"status"===r?n.a.statusInput:n.a.formInput,type:a,placeholder:o,required:!0,autoFocus:j,onChange:u,onBlur:b,onKeyUp:f,value:l},i))}},110:function(e,t,a){e.exports={formInput:"UniversalInput_formInput__3Hjo-",loginInput:"UniversalInput_loginInput__3G6O5",statusInput:"UniversalInput_statusInput__1B1FK"}},112:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a(113),o=a.n(s),n=a(98),c=(a(1),a(2)),i=function(e){var t=e.onDeleteHandler;return Object(c.jsx)("div",{className:o.a.deleteBlock,onClick:t,children:Object(c.jsx)("div",{className:o.a.deleteButton,children:Object(c.jsx)(n.a,{})})})}},113:function(e,t,a){e.exports={deleteBlock:"DeleteButton_deleteBlock__jY_3E",deleteButton:"DeleteButton_deleteButton__3GOrh"}},114:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a(1);var s=a(115),o=a.n(s),n=a(19),c=a(2),i=function(e){var t=e.confirm,a=e.title,s=e.confirmCallback,i=e.cancelCallback;return Object(c.jsxs)("div",{className:t?o.a.modalContainer:o.a.noModal,children:[Object(c.jsx)("div",{className:o.a.text,children:a}),Object(c.jsxs)("div",{className:o.a.confirmBlock,children:[Object(c.jsx)(n.a,{callback:s,title:"Ok"}),Object(c.jsx)(n.a,{callback:i,title:"Cancel",className:!0})]})]})}},115:function(e,t,a){e.exports={modalContainer:"ConfirmModal_modalContainer__3sxOp",text:"ConfirmModal_text__j5Yf6",confirmBlock:"ConfirmModal_confirmBlock__2aHcg",noModal:"ConfirmModal_noModal__2C5TK"}},118:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a(3),o=(a(1),a(6)),n=a(9),c=a(2),i=function(e){return{isAuth:e.auth.isAuth}},r=function(e){return Object(n.b)(i)((function(t){return t.isAuth?Object(c.jsx)(e,Object(s.a)({},t)):Object(c.jsx)(o.a,{to:"/login"})}))}},130:function(e,t,a){e.exports={profileWrapper:"Profile_profileWrapper__30YUZ",profileNavPanel:"Profile_profileNavPanel__jFxzE"}},131:function(e,t,a){e.exports={contentContainer:"ProfileInfo_contentContainer__1ws9B",contentBlock:"ProfileInfo_contentBlock__1elbt",imageContainer:"ProfileInfo_imageContainer__30_Qo",fileContainer:"ProfileInfo_fileContainer__50WOv",userNameTitle:"ProfileInfo_userNameTitle__RVBVV"}},132:function(e,t,a){e.exports={statusContainer:"ProfileStatusWithHooks_statusContainer__3rLyX",statusBlock:"ProfileStatusWithHooks_statusBlock__3fXb8",statusDescription:"ProfileStatusWithHooks_statusDescription__2Z5TS",statusDesc:"ProfileStatusWithHooks_statusDesc__3ovQF",noDesc:"ProfileStatusWithHooks_noDesc__1zpg-",status:"ProfileStatusWithHooks_status__Iz9rW"}},133:function(e,t,a){e.exports={postsContainer:"MyPosts_postsContainer__3Ky2W"}},134:function(e,t,a){e.exports={postContainer:"Post_postContainer__g7za6",titleBlock:"Post_titleBlock__2Zkgl",avatarBlock:"Post_avatarBlock__2KY61",avatar:"Post_avatar__1WQiw",userNameDateBlock:"Post_userNameDateBlock__2jTJU",userName:"Post_userName__1aFhD",postMessage:"Post_postMessage__1HP1K",imageBlock:"Post_imageBlock__2IP5p",likesBlock:"Post_likesBlock__5UaBe",likeDislikeContainer:"Post_likeDislikeContainer__3Mfw2",like:"Post_like__27Tas",dislike:"Post_dislike__30waD"}},135:function(e,t,a){e.exports={postsContainer:"ProfilePostForm_postsContainer___an3F",postsTitle:"ProfilePostForm_postsTitle__1BcN6",formBlock:"ProfilePostForm_formBlock__2dLqp",formBlockEnterText:"ProfilePostForm_formBlockEnterText__2_6_j",userPhoto:"ProfilePostForm_userPhoto__3vOst",formBlockSubmit:"ProfilePostForm_formBlockSubmit__1lqso",error:"ProfilePostForm_error__1cTWa"}},139:function(e,t,a){e.exports={profNavContainer:"ProfileNavigation_profNavContainer__2QlJ2",profNavItem:"ProfileNavigation_profNavItem__GtWub",profNavTitle:"ProfileNavigation_profNavTitle__2Kema",profNavActive:"ProfileNavigation_profNavActive__lIzk2"}},140:function(e,t,a){e.exports={aboutContainer:"AboutMe_aboutContainer__2Ly_v",aboutBlock:"AboutMe_aboutBlock__CunbV",basicInfoBlock:"AboutMe_basicInfoBlock__23TWU",nameBlock:"AboutMe_nameBlock__2PBQp",aboutMeBlock:"AboutMe_aboutMeBlock__3exyn",lookingJobBlock:"AboutMe_lookingJobBlock__1omhp",jobDescBlock:"AboutMe_jobDescBlock__3d0m1",linksInfoBlock:"AboutMe_linksInfoBlock__1KJQ8",facebookBlock:"AboutMe_facebookBlock__25fu9",githubBlock:"AboutMe_githubBlock__2uMQh",instagramBlock:"AboutMe_instagramBlock__31-w6",mainLinkBlock:"AboutMe_mainLinkBlock__1Lg6N",twitterBlock:"AboutMe_twitterBlock__1o2VJ",vkBlock:"AboutMe_vkBlock__1CfPh",websiteBlock:"AboutMe_websiteBlock__2_GfD",youtubeBlock:"AboutMe_youtubeBlock__3bzI8"}},141:function(e,t,a){e.exports={aboutMyFriendContainer:"MyFriends_aboutMyFriendContainer__dmom9"}},168:function(e,t,a){"use strict";a.r(t);var s=a(57),o=a(58),n=a(61),c=a(60),i=a(1),r=a.n(i),l=a(9),u=a(48),j=a(6),b=a(28),f=a(130),d=a.n(f),m=a(131),_=a.n(m),p=a(26),k=a(24),h=a(132),O=a.n(h),x=a(109),v=a(2),B=r.a.memo((function(e){var t=e.status,a=e.changeUserStatus,s=e.isOwner,o=r.a.useState(!1),n=Object(k.a)(o,2),c=n[0],i=n[1],l=r.a.useState(t),u=Object(k.a)(l,2),j=u[0],b=u[1];r.a.useEffect((function(){b(t)}),[t]);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:O.a.statusContainer,children:c&&s?Object(v.jsx)(x.a,{type:"text",className:"status",autoFocus:!0,onChange:function(e){b(e.currentTarget.value)},onBlur:function(){i(!1),a(j)},onKeyUp:function(e){"Enter"===e.key&&(i(!1),a(j))},value:j}):Object(v.jsxs)("div",{className:O.a.statusBlock,children:[Object(v.jsx)("span",{className:O.a.status,onClick:function(){i(!0)},children:t===j?t||"Empty status":Object(v.jsx)(p.a,{})}),Object(v.jsx)("span",{className:s?O.a.statusDescription:O.a.noDesc,children:"Click to change status !!!"})]})})})})),g=a(162),P=a(171),N=a(167),C=a(165),M=Object(g.a)((function(e){return Object(P.a)({root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}})})),I=function(e){var t=e.changeUserPhoto,a=M();return Object(v.jsxs)("div",{className:a.root,children:[Object(v.jsx)("input",{accept:"image/*",className:a.input,id:"icon-button-file",type:"file",onChange:function(e){e.target.files&&t(e.target.files[0])}}),Object(v.jsx)("label",{htmlFor:"icon-button-file",children:Object(v.jsx)(N.a,{color:"primary","aria-label":"upload picture",component:"span",size:"medium",children:Object(v.jsx)(C.a,{style:{fontSize:"2.5rem"}})})})]})},y=a.p+"static/media/profileBackground.97fd62ef.jpg",w=a(46),D=r.a.memo((function(e){var t=e.changeUserStatus,a=e.status,s=e.profile,o=e.changeUserPhoto,n=e.isOwner;return Object(v.jsx)("div",{className:_.a.contentContainer,style:{backgroundImage:"url(".concat(y,")")},children:Object(v.jsx)("div",{className:_.a.contentBlock,children:s?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:_.a.imageContainer,children:[Object(v.jsx)("img",{src:s.photos.large?s.photos.large:w.a,alt:"user-avatar"}),Object(v.jsx)("label",{className:n?_.a.fileContainer:"",htmlFor:"icon-button-file",children:n&&Object(v.jsx)(I,{changeUserPhoto:o})})]}),Object(v.jsx)("div",{className:_.a.userNameTitle,children:s.fullName}),Object(v.jsx)(B,{status:a,isOwner:n,changeUserStatus:t})]}):Object(v.jsx)(p.a,{})})})})),F=a(27),U=a(133),S=a.n(U),A=a(134),T=a.n(A),W=a(101),L=a(112),E=a(114),J=function(e){var t=e.likesCount,a=e.setLikesCount,s=e.postMessage,o=e.id,n=e.deletePost,c=e.profile,r=e.dislikesCount,l=e.setDislikesCount,u=e.postBackground,j=Object(i.useState)(!1),b=Object(k.a)(j,2),f=b[0],d=b[1],m=new Date,_="".concat(m.getDate(),"-").concat(m.getMonth()+1,"-").concat(m.getFullYear());return Object(v.jsxs)("div",{className:T.a.postContainer,children:[Object(v.jsxs)("div",{className:T.a.titleBlock,children:[Object(v.jsx)("div",{className:T.a.avatarBlock,children:c?Object(v.jsx)("img",{className:T.a.avatar,src:c.photos.large,alt:"user-avatar"}):Object(v.jsx)(p.a,{})}),Object(v.jsxs)("div",{className:T.a.userNameDateBlock,children:[Object(v.jsx)("div",{className:T.a.userName,children:null===c||void 0===c?void 0:c.fullName}),Object(v.jsx)("div",{className:T.a.date,children:_})]}),Object(v.jsx)("div",{className:T.a.postMessage,children:s}),Object(v.jsx)(L.a,{onDeleteHandler:function(){d(!0)}})]}),Object(v.jsx)("div",{className:T.a.imageBlock,style:{backgroundImage:"url(".concat(u,")")}}),Object(v.jsx)("div",{className:T.a.likesBlock,children:Object(v.jsxs)("div",{className:T.a.likeDislikeContainer,children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(W.b,{className:T.a.like,onClick:function(){a(o,t+1)}}),t]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(W.a,{className:T.a.dislike,onClick:function(){l(o,r+1)}}),r]})]})}),Object(v.jsx)(E.a,{title:"Delete ?",cancelCallback:function(){d(!1)},confirm:f,confirmCallback:function(){n(o)}})]})},H=a(135),K=a.n(H),z=a(119),q=a(19),Q=function(e){var t=e.addPost,a=e.profile,s=Object(z.a)({initialValues:{newPost:""},validate:function(e){var t={};return e.newPost&&e.newPost.length>100&&(t.newPost="Max length is 100 symbols"),t},onSubmit:function(e){t(e.newPost),s.resetForm({values:{newPost:""}})}});return Object(v.jsxs)("div",{className:K.a.postsContainer,children:[Object(v.jsx)("div",{className:K.a.postsTitle,children:"Create Post"}),Object(v.jsxs)("form",{className:K.a.formBlock,onSubmit:s.handleSubmit,children:[Object(v.jsxs)("div",{className:K.a.formBlockEnterText,children:[a?Object(v.jsx)("div",{className:K.a.userPhoto,children:Object(v.jsx)("img",{src:a?a.photos.large:"",alt:"user-avatar"})}):Object(v.jsx)(p.a,{}),Object(v.jsx)(x.a,{type:"text",placeholder:"Write something here...",formikFieldProps:s.getFieldProps("newPost")})]}),Object(v.jsxs)("div",{className:K.a.formBlockSubmit,children:[s.touched.newPost&&s.errors.newPost?Object(v.jsx)("div",{className:K.a.error,children:s.errors.newPost}):Object(v.jsx)("div",{children:" "}),Object(v.jsx)(q.a,{type:"submit",title:"post"})]})]})]})},V=a(18),Y=r.a.memo((function(e){var t=e.posts,a=e.profile,s=e.setLikesCount,o=e.addPost,n=e.deletePost,c=e.setDislikesCount,i=Object(F.a)(t).reverse().map((function(e){return Object(v.jsx)(J,{id:e.id,postBackground:e.postBackground,profile:a,deletePost:n,postMessage:e.postMessage,likesCount:e.likesCount,dislikesCount:e.dislikesCount,setLikesCount:s,setDislikesCount:c},Object(V.a)())}));return Object(v.jsxs)("div",{className:S.a.postsContainer,children:[Object(v.jsx)(Q,{addPost:o,profile:a}),i]})})),G=r.a.memo(Object(l.b)((function(e){var t=e.profilePage;return{posts:t.posts,profile:t.profile}}),{addPost:u.a,setLikesCount:u.i,deletePost:u.d,setDislikesCount:u.h})(Y)),R=a(20),Z=a(17),X=a(139),$=a.n(X),ee=function(){return Object(v.jsx)("div",{className:$.a.profNavContainer,children:R.b.map((function(e,t){return Object(v.jsx)(Z.c,{to:e.path,activeClassName:$.a.profNavActive,className:$.a.profNavItem,children:Object(v.jsx)("span",{className:$.a.profNavTitle,children:e.title})},t)}))})},te=a(140),ae=a.n(te),se=function(e){var t=e.title,a=e.data,s=e.classname;return Object(v.jsxs)("div",{className:s,children:[Object(v.jsx)("div",{children:t}),Object(v.jsx)("div",{children:a})]})},oe=r.a.memo((function(e){var t=e.profile;return Object(v.jsx)("div",{className:ae.a.aboutContainer,children:t?Object(v.jsxs)("div",{className:ae.a.aboutBlock,children:[Object(v.jsx)("h2",{children:"Basic Information"}),Object(v.jsxs)("div",{className:ae.a.basicInfoBlock,children:[Object(v.jsx)(se,{title:"Name",data:t.fullName,classname:ae.a.nameBlock}),Object(v.jsx)(se,{title:"About me",data:t.aboutMe,classname:ae.a.aboutMeBlock}),Object(v.jsx)(se,{title:"Looking for a job",data:t.lookingForAJob?"true":"false",classname:ae.a.lookingJobBlock}),Object(v.jsx)(se,{title:"Job description",data:t.lookingForAJobDescription,classname:ae.a.jobDescBlock})]}),Object(v.jsx)("h2",{children:"Websites and Social Links"}),Object(v.jsxs)("div",{className:ae.a.linksInfoBlock,children:[Object(v.jsx)(se,{title:"Facebook",data:t.contacts.facebook,classname:ae.a.facebookBlock}),Object(v.jsx)(se,{title:"Github",data:t.contacts.github,classname:ae.a.githubBlock}),Object(v.jsx)(se,{title:"Instagram",data:t.contacts.instagram,classname:ae.a.instagramBlock}),Object(v.jsx)(se,{title:"MainLink",data:t.contacts.mainLink,classname:ae.a.mainLinkBlock}),Object(v.jsx)(se,{title:"Twitter",data:t.contacts.twitter,classname:ae.a.twitterBlock}),Object(v.jsx)(se,{title:"VK",data:t.contacts.vk,classname:ae.a.vkBlock}),Object(v.jsx)(se,{title:"Website",data:t.contacts.website,classname:ae.a.websiteBlock}),Object(v.jsx)(se,{title:"Youtube",data:t.contacts.youtube,classname:ae.a.youtubeBlock})]})]}):Object(v.jsx)(p.a,{})})})),ne=a(141),ce=a.n(ne),ie=r.a.memo((function(){return Object(v.jsx)("div",{className:ce.a.aboutMyFriendContainer,children:"My friends"})})),re=r.a.memo((function(e){var t=e.profile,a=e.status,s=e.changeUserStatus,o=e.changeUserPhoto,n=e.isOwner;return Object(v.jsxs)("div",{className:d.a.profileWrapper,children:[Object(v.jsx)(D,{isOwner:n,profile:t,status:a,changeUserPhoto:o,changeUserStatus:s}),Object(v.jsx)(ee,{}),Object(v.jsxs)("div",{className:d.a.profileNavPanel,children:[Object(v.jsx)(j.b,{path:"".concat(R.a.PROFILE).concat(R.a.ABOUT),render:function(){return Object(v.jsx)(oe,{profile:t})}}),Object(v.jsx)(j.b,{path:"".concat(R.a.PROFILE).concat(R.a.FRIENDS),render:function(){return Object(v.jsx)(ie,{})}}),Object(v.jsx)(j.b,{path:"".concat(R.a.PROFILE).concat(R.a.POSTS),render:function(){return Object(v.jsx)(G,{})}})]})]})})),le=a(118),ue=function(e){Object(n.a)(a,e);var t=Object(c.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"refreshProfile",value:function(){var e=Number(this.props.match.params.userId);e||(e=this.props.id)||this.props.history.push("/login"),"number"===typeof e&&this.props.requestUserProfile(e),"number"===typeof e&&this.props.requestUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(v.jsx)(re,{profile:this.props.profile,isOwner:!this.props.match.params.userId,status:this.props.status,changeUserPhoto:this.props.changeUserPhoto,changeUserStatus:this.props.changeUserStatus})}}]),a}(r.a.PureComponent);t.default=Object(b.c)(Object(l.b)((function(e){var t=e.profilePage,a=t.profile,s=t.status,o=e.auth;return{profile:a,status:s,id:o.id,isAuth:o.isAuth}}),{requestUserProfile:u.f,requestUserStatus:u.g,changeUserStatus:u.c,changeUserPhoto:u.b}),j.g,le.a)(ue)}}]);
//# sourceMappingURL=4.83f58717.chunk.js.map